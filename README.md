**2020.08.26 â€”â€” 2020.08.28**

1. allen æ–‡ä»¶å¤¹æ˜¯å°è¯•ä½¿ç”¨ AllenNLP æ¡†æ¶çš„ä»£ç ï¼Œä½†æ˜¯åé¢å‘ç°å…¶æ–‡æ¡£è¿˜æœªæ›´æ–°å®Œå…¨ï¼Œæ‰€ä»¥å…ˆæ”¾å¼ƒäº†è¿™ä¸€ç‰ˆ ğŸ˜…
2. ç›®å‰ä¸»è¦ä½¿ç”¨ huggingface æ–‡ä»¶å¤¹ä¸­çš„ä»£ç ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›
- ç›®å‰ jaccard å¾—åˆ†ä¸º 0.69254



**2020.08.31 â€”â€” 2020.09.05**

![å®éªŒè®°å½•](https://i.loli.net/2020/09/06/Pk6X7N5CobRKSh8.png)
* è¡¨ä¸­ \* è¡¨ç¤ºä¸€è‡´
* last2h è¡¨ç¤ºä½¿ç”¨æœ€åä¸¤å±‚éšè—çŠ¶æ€

å®éªŒå°ç»“ï¼š  
1. å°çš„ batch size ä¼šæœ‰æ›´å¥½çš„è¡¨ç°ï¼Œ64 æˆ–è€… 128
2. task layer æ·»åŠ  dropout å’Œ ç‰¹æ®Šåˆå§‹åŒ–æ²¡ä»€ä¹ˆä½œç”¨
3. å¯¹äº sentiment ä¸º neutral çš„æ ·æœ¬ç›´æ¥ä½¿ç”¨åŸæ–‡ä½œä¸ºç­”æ¡ˆå¯ä»¥æå‡æ•ˆæœ
4. æ¨¡å‹ä¸Š bert-wwm ç±»æœ€ä½³ï¼Œå…¶æ¬¡ bertï¼Œroberta è¡¨ç°æœ€å·®ï¼Œå¾ˆå¥‡æ€ªï¼Œå’Œè®¨è®ºåŒºçš„è§‚ç‚¹ä¸å¤ªä¸€è‡´ã€‚
å¦å¤–ï¼Œç»è¿‡ squad æ•°æ® fine-tune çš„æ¨¡å‹å¹¶æ²¡æœ‰é¢„æƒ³çš„è¡¨ç°çš„æ¯”æœªç»è¿‡ fine-tune çš„å¥½



**2020.09.07 â€”â€” 2020.09.11**

* 1st Models


|   1st-model   |   jacquard-based soft labels   |   MSD   |   hidden-state   |   dropout   |   fc-normal-init   |   epoch   |   lr   |   bs   |   max-seq-len   |   fp16/o1   |   weight-decay   |   best-steps/total-steps   |   n-gpus   |   warmup-steps   |   jaccard (best/final)   |   CELoss   |
| :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |
|   albert-large-v2   |   0   |      |   last2h   |   0   |   0   |   5   | 2e-5 | 32 | 128 | 1/o1 | 0 | 800/880 | 4 | 0 | 70.1796/70.0795 | 0.5939 |
| albert-large-v2 | 0 |  | last2h | 0 | 0 | 5 | 3e-5 | 32 | 128 | 1/o1 | 0 | 750/880 | 4 | 0 | 69.5190/69.5166 | 0.5375 |
| albert-large-v2 | 0 |  | last2h | 0.1 | 0 | 5 | 2e-5 | 32 | 128 | 1/o1 | 0 | 850/880 | 4 | 0 | 69.9607/69.9118 | 0.6085 |
| albert-large-v2 | 0 |  | last2h | 0.1 | 0 | 5 | 3e-5 | 32 | 128 | 1/o1 | 0 | 800/880 | 4 | 0 | 69.8822/69.8574 | 0.5515 |
| albert-large-v2 | 0 |  | last2h | 0 | Normal(std=0.02) | 5 | 2e-5 | 32 | 128 | 1/o1 | 0 | 750/880 | 4 | 0 | 70.0787/69.9847 | 0.6002 |
| albert-large-v2 | 0 |  | last2h | 0 | 0 | 4 | 2e-5 | 32 | 128 | 1/o1 | 0 | 600/704 | 4 | 0 | **70.2961**/70.2722 | 0.6488 |
| albert-large-v2 | 0 |  | last2h | 0 | 0 | 3 | 2e-5 | 32 | 128 | 1/o1 | 0 | 450/520 | 4 | 0 | 70.0191/69.8680 | 0.7186 |
| albert-large-v2 | 0 |  | cat(avg-all-hidden,max-all-hidden) | 0 | 0 | 3 | 2e-5 | 32 | 128 | 1/o1 | 0 | */528 | 4 | 0 | 69.6336/* | 0.7524 |
| albert-large-v2 | 0 |  | cat(avg-all-hidden,max-all-hidden) | 0.1 | 0 | 3 | 2e-5 | 32 | 128 | 1/o1 | 0 | */528 | 4 | 0 | 69.5679/* | 0.7548 |
| albert-large-v2 | 0 |  | linear-comb-hidden | 0 | 0 | 3 | 2e-5 | 32 | 128 | 1/o1 | 0 | 450/528 | 4 | 0 | 69.2622/68.9154 | 0.7793 |
| albert-large-v2 | 0 |  | linear-comb-hidden | 0 | 0 | 4 | 2e-5 | 32 | 128 | 1/o1 | 0 | */704 | 4 | 0 | 69.3700/* | 0.6970 |
| albert-large-v2 | 0 | 1 | last2h | 0 | 0 | 4 | 2e-5 | 32 | 128 | 1/o1 | 0 | 650/704 | 4 | 0 | 69.9925/69.8471 | 0.6974 |
| albert-large-v2 | 0 | 1 | last2h | 0 | 0 | 5 | 2e-5 | 32 | 128 | 1/o1 | 0 | 750/880 | 4 | 0 | 70.0275/69.8508 | 0.6432 |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| Roberta-base | 0 |  | last2h | 0 | 0 | 4 | 2e-5 | 32 | 128 | 0 | 0 | 650/704 | 4 | 0 | 69.2620/69.1224 | 0.7728 |
| Roberta-base | 0 |  | last2h | 0 | 0 | 4 | 5e-5 | 32 | 128 | 0 | 0 | */704 | 4 | 0 | 69.7026/* | 0.6525 |
| Roberta-base | 0 |  | last2h | 0 | 0 | 4 | 5e-5 | 64 | 128 | 0 | 0 | 300/352 | 4 | 0 | 69.8618/69.7472 | 0.7231 |
| Roberta-base | 0 |  | last2h | 0 | 0 | 5 | 5e-5 | 64 | 128 | 0 | 0 | 400/440 | 4 | 0 | 69.8478/69.8340 | 0.6757 |
| Roberta-base | 0 |  | last2h | 0 | 0 | 5 | 5e-5 | 64 | 128 | 0 | 0 | */590 | 3 | 0 | **70.0300**/* | 0.6437 |
| Roberta-base | 0 | 1 | last2h | 0 | 0 | 5 | 5e-5 | 64 | 128 | 0 | 0 | */590 | 3 | 0 | 69.6127/* | 0.6656 |
| Roberta-base | 0 | 1 | last2h | 0 | 0 | 6 | 5e-5 | 64 | 128 | 0 | 0 | */708 | 3 | 0 | 69.7245/* | 0.5994 |
| Roberta-base | 0 | 1 | last2h | 0 | 0 | 6 | 5e-5 | 128 | 128 | 1/o1 | 0 | */354 | 3 | 0 | 69.7075/* | 0.6964 |
| Roberta-base | 1 | 0 | last2h | 0 | 0 | 5 | 5e-5 | 64 | 128 | 0 | 0 | */590 | 3 | 0 | 77.33/* | è¿‡åº¦é¢„å¤„ç† selelcted _text äº† |
| Roberta-base | 1 | 0 | last2h | 0 | 0 | 5 | 5e-5 | 64 | 128 | 0 | 0 | */590 | 3 | 0 | **71.7002**/* | 1.65e-3 (KL) |
| Roberta-base | 1 | 0 | last2h | 0 | 0 | 6 | 5e-5 | 64 | 128 | 0 | 0 | 700/708 | 3 | 0 | 71.6937/71.6521 | 1.48e-3 (KL) |
| Roberta-base | 1 | 0 | last2h+conv | 0 | 0 | 6 | 5e-5 | 64 | 128 | 0 | 0 | /708 | 3 | 0 | **71.7433**/71.6613 | 1.46e-3 (KL) |
| Roberta-base | 0 | 0 | last2h+conv | 0 | 0 | 5 | 5e-5 | 64 | 128 | 0 | 0 | 550/590 | 3 | 0 | 71.4312/71.3696 | 0.6223 |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| bert-base-cased | 0 | 1 | cat all hidden (12 layers) | 0 | 0 | 5 | 2e-5 | 32 | 128 | 0 | 0 | 1000/1175 | 3 | 0 | 69.2086/69.1465 | 1.001 |
| bert-base-cased-å†éªŒè¯ä¸€é | 1 | 0 | last2h | 0 | 0 | 5 | 2e-5 | 32 | 128 | 0 | 0 | 1000/1175 | 3 | 0 | 0.7056/0.7050 | 1.80e-3 |
| bert-base-cased | 0 | 0 | last2h | 0 | 0 | 5 | 3e-5 | 64 | 128 | 0 | 0 | */440 | 4 | 0 | 69.1499/* | 0.7174 |
| bert-base-cased | 0 | 0 | last2h | 0 | 0 | 5 | 3e-5 | 64 | 70 | 0 | 0 | */440 | 4 | 0 | 69.6256/* | 0.7140 |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| bert-large-uncased-wwm-squad | 0 | 0 | last2h | 0 | 0 | 2 | 7e-5 | 24 | 128 | 1/o1 | 0 | 450/470 | 4 | 0 | 69.8681/69.8477  (å¿˜è®° lowercase) | 0.7764 |
| bert-large-uncased-wwm-squad | 0 | 0 | last2h | 0 | 0 | 2 | 7e-5 | 24 | 128 | 1/o1 | 0 | */470 | 4 | 0 | 71.3203/* | 0.6745 |
| bert-large-uncased-wwm-squad | 1 | 0 | last2h | 0 | 0 | 3 | 7e-5 | 24 | 128 | 1/o1 | 0 | */700 | 4 | 0 | 71.1917/* | 1.26e-3 |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |

* 2nd Models
1. LSTM

|   1st-models    | SWA  |      MSD       | label-smoothing | max-seq-length | char-embed-dim | n-models | lstm-hidden-size | sentiment-dim | encode-size |  bs  |  lr  | best/total-steps | n-gpus | epochs | jaccard (best/final) |         å¤‡æ³¨         |
| :-------------: | :--: | :------------: | :-------------: | :------------: | :------------: | :------: | :--------------: | :-----------: | :---------: | :--: | :--: | :--------------: | :----: | :----: | :------------------: | :------------------: |
| roberta-base-cv |  0   | 1(p=[0.1,0.5]) |        0        |      150       |       8        |    1     |        16        |      16       |     64      | 128  | 5e-3 |     550/590      |   3    |   10   |   71.4332/71.4160    |                      |
| roberta-base-cv |  0   |       0        |        0        |      150       |       8        |    1     |        16        |      16       |     64      | 128  | 5e-3 |     550/590      |   3    |   10   |   71.4332/71.4160    |                      |
| roberta-base-cv |  0   |    1(p=0.5)    |        0        |      150       |       8        |    1     |        16        |      16       |     64      | 128  | 5e-3 |     550/590      |   3    |   10   |      71.4068/*       |                      |
| roberta-base-cv |  0   | 1(p=[0.1,0.5]) |        0        |      150       |       8        |    1     |        16        |      16       |     64      | 128  | 5e-3 |    1500/1760     |   1    |   10   |   71.8963/71.4708    |                      |
| roberta-base-cv |  0   | 1(p=[0.1,0.5]) |        0        |      150       |       8        |    1     |        16        |      16       |     64      | 128  | 5e-3 |    1500/1760     |   1    |   10   |   71.9194/71.7695    | fc å¤šåŠ äº†ä¸€å±‚ linear |

  

2. CNN 

   |   1st-models    | SWA  |      MSD       | label-smoothing | max-seq-length | char-embed-dim | n-models | cnn-dim | kernel-size | sentiment-dim | encode-size |  bs  | n-gpus |  lr  | best/total-steps | epochs | jaccard (best/final) |                  å¤‡æ³¨                  |
   | :-------------: | :--: | :------------: | :-------------: | :------------: | :------------: | :------: | :-----: | :---------: | :-----------: | :---------: | :--: | :----: | :--: | :--------------: | :----: | :------------------: | :------------------------------------: |
   | roberta-base-cv |  0   |    1(p=0.5)    |        0        |      150       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   3    | 4e-3 |      */295       |   5    |      71.8772/*       |                                        |
   | roberta-base-cv |  0   |       0        |        0        |      150       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   3    | 4e-3 |      */295       |   5    |      71.7584/*       |                                        |
   | roberta-base-cv |  0   |       0        |        1        |      150       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   3    | 4e-3 |      */295       |   5    |      71.7865/*       |                                        |
   | roberta-base-cv |  0   |       1        |        1        |      150       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   3    | 4e-3 |      */295       |   5    |      71.7737/*       |                                        |
   | roberta-base-cv |  0   |    1(p=0.5)    |        0        |      150       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   3    | 4e-3 |      */295       |   5    |      71.9353/*       | å½“é¢„æµ‹start å¤§äº endçš„æ—¶å€™è¿”å›æ•´ä¸ªåŸå¥ |
   | roberta-base-cv |  0   | 1(p=[0.1,0.5]) |        0        |      150       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   3    | 4e-3 |      */295       |   5    |      72.0055/*       |                                        |
   | roberta-base-cv |  0   | 1(p=[0.1,0.5]) |        0        |      160       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   1    | 4e-3 |      */880       |   5    |    **72.2156/***     |                                        |
   | roberta-base-cv |  0   | 1(p=[0.1,0.5]) |        0        |      150       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   1    | 4e-3 |     750/880      |   5    |   72.0859/72.0637    |                                        |
   | roberta-base-cv |  0   | 1(p=[0.1,0.5]) |        0        |      180       |       16       |    1     |   16    |      3      |      16       |     32      | 128  |   1    | 4e-3 |     750/880      |   5    | **72.2520**/72.0474  |                                        |

   